(this["webpackJsonpmimishop-modern-admin"]=this["webpackJsonpmimishop-modern-admin"]||[]).push([[40],{738:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(1);var c=n(993),a=n(19);function r(e){var t=null;switch(e.type){case"select":t=Object(a.jsxs)(c.a.Group,{children:[e.label&&Object(a.jsx)(c.a.Label,{children:e.label}),Object(a.jsxs)("select",{className:"form-control",value:e.value,onChange:e.onChange,children:[Object(a.jsx)("option",{value:"",children:e.placeholder}),e.options.length>0?e.options.map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.name},t)})):null]})]});break;case"text":default:t=Object(a.jsxs)(c.a.Group,{children:[e.label&&Object(a.jsx)(c.a.Label,{children:e.label}),Object(a.jsx)(c.a.Control,{type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange}),Object(a.jsx)(c.a.Text,{className:"text-muted",children:e.errorMessage})]})}return t}},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(1);var c=n(992),a=n(753),r=n(19);function l(e){return Object(r.jsxs)(c.a,{size:e.size,show:e.show,onHide:e.handleClose,btnTitle:e.btnTitle,children:[Object(r.jsx)(c.a.Header,{closeButton:!0,children:Object(r.jsx)(c.a.Title,{children:e.modalTitle})}),Object(r.jsx)(c.a.Body,{children:e.children}),Object(r.jsx)(c.a.Footer,{children:e.buttons?e.buttons.map((function(e,t){return Object(r.jsx)(a.a,{variant:e.color,onClick:e.onClick,children:e.label},t)})):Object(r.jsxs)("div",{children:[Object(r.jsx)(a.a,{variant:"secondary",onClick:e.handleClose,children:"Annuler"}),Object(r.jsx)(a.a,{className:"infoButton",onClick:e.handleSubmit,children:e.btnTitle?e.btnTitle:"Sauvegarder"})]})})]})}},935:function(e,t,n){},982:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c=n(123),a=n(720),r=n(1),l=n.n(r),s=n(757),i=n(748),o=n(745),j=n(753),u=n(857),b=n(70),d=n(122),h=n(738),O=n(743),p=n(94),x=function e(t){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(p.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;c.push({value:r._id,name:r.name,parentId:r.parentId,type:r.type}),r.children.length>0&&e(r.children,c)}}catch(l){a.e(l)}finally{a.f()}return c},f=(n(935),n(19));function m(e){var t=Object(b.c)((function(e){return e.category})),n=Object(b.c)((function(e){return e.page})),p=Object(r.useState)(!1),m=Object(a.a)(p,2),g=m[0],v=m[1],C=Object(r.useState)(""),y=Object(a.a)(C,2),S=y[0],N=y[1],T=Object(r.useState)(""),w=Object(a.a)(T,2),P=w[0],k=w[1],I=Object(r.useState)(""),B=Object(a.a)(I,2),D=B[0],E=B[1],z=Object(r.useState)([]),A=Object(a.a)(z,2),F=A[0],G=A[1],H=Object(r.useState)(""),J=Object(a.a)(H,2),L=J[0],q=J[1],M=Object(r.useState)([]),_=Object(a.a)(M,2),K=_[0],Q=_[1],R=Object(r.useState)([]),U=Object(a.a)(R,2),V=U[0],W=U[1],X=Object(b.b)();Object(r.useEffect)((function(){G(x(t.categories))}),[t]),Object(r.useEffect)((function(){n.loading||(v(!1),N(""),E(""),q(""),Q([]),W([]),k(""))}),[n]);var Y=function(e){var t=F.find((function(t){return t.value===e.target.value}));q(e.target.value),E(t.type)},Z=function(e){Q([].concat(Object(c.a)(K),[e.target.files[0]]))},$=function(e){W([].concat(Object(c.a)(V),[e.target.files[0]]))},ee=function(e){var t=new FormData;if(""===S)return alert("Titre et Description sont r\xe9quis"),void v(!1);t.append("title",S),t.append("description",P),t.append("category",L),t.append("type",D),K.forEach((function(e,n){t.append("banners",e)})),V.forEach((function(e,n){t.append("products",e)})),X(Object(d.c)(t))};return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)("h1",{style:{margin:"3rem",color:"white"},children:"Cre\u0301er une nouvelle page"}),Object(f.jsx)(O.a,{size:"lg",show:g,modalTitle:"Cr\xe9er une Nouvelle Page",handleClose:function(e){return v(!1)},handleSubmit:ee,children:Object(f.jsxs)(s.a,{children:[Object(f.jsx)(i.a,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)("p",{children:"Cate\u0301gorie de Page"}),Object(f.jsx)(h.a,{type:"select",value:L,onChange:Y,options:F,placeholder:"Se\u0301lectionner Cate\u0301gorie de la Page"})]})}),Object(f.jsx)("br",{}),Object(f.jsx)(i.a,{children:Object(f.jsx)(o.a,{children:Object(f.jsx)(h.a,{className:"form-control",label:"Titre de Page",value:S,onChange:function(e){return N(e.target.value)},placeholder:"Ajouter Titre de la Page"})})}),Object(f.jsx)("br",{}),Object(f.jsx)(i.a,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)("p",{children:"Description de la Page"}),Object(f.jsx)(h.a,{className:"form-control",rows:"4",value:P,onChange:function(e){return k(e.target.value)},placeholder:"Ajouter une Description"})]})}),Object(f.jsxs)("div",{className:"listImagesContainer",children:[Object(f.jsx)("br",{}),Object(f.jsx)("p",{children:"Se\u0301lectionner Bande\u0301role Publicitaire"}),Object(f.jsxs)(i.a,{children:[K.length>0?K.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsx)(i.a,{className:"listImages",children:Object(f.jsx)(o.a,{children:e.name})},t)})})):null,Object(f.jsx)(o.a,{children:Object(f.jsx)(h.a,{className:"form-control",type:"file",name:"banners",onChange:Z})})]})]}),Object(f.jsxs)("div",{className:"listImagesContainer",children:[Object(f.jsx)("br",{}),Object(f.jsx)("p",{children:"Se\u0301lectionner Images pour la Page"}),Object(f.jsxs)(i.a,{children:[V.length>0?V.map((function(e,t){return Object(f.jsx)("div",{children:Object(f.jsx)(i.a,{className:"listImages",children:Object(f.jsx)(o.a,{children:e.name})},t)})})):null,Object(f.jsx)(o.a,{children:Object(f.jsx)(h.a,{className:"form-control",type:"file",name:"products",onChange:$})}),Object(f.jsx)("br",{})]})]})]})}),Object(f.jsxs)(j.a,{variant:"success",className:"addButton",onClick:function(){return v(!0)},children:[Object(f.jsx)(u.a,{})," Cre\u0301er une Page"]}),e.children]})}}}]);
//# sourceMappingURL=40.ac341ca9.chunk.js.map
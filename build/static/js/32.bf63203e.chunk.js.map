{"version":3,"sources":["views/products/ModifyProduct/index.js"],"names":["ModifyProduct","category","useSelector","state","product","useDispatch","useState","setShow","categoryList","categories","myCategories","push","name","value","children","length","undefined","renderCategories","console","log","productList","products","productCategories","prod","map","cate","renderProducts","am4core","am4themes_animated","networkSeries","am4plugins_forceDirected","series","dataFields","linkWith","id","nodes","template","tooltipText","fillOpacity","data","label","text","fontSize","maxLevels","maxRadius","manyBodyStrength","hideOversized","truncate","useEffect","loading","Fragment","xs","style","background","borderRadius","md","display","justifyContent","marginBottom","margin","color"],"mappings":"uQAiHeA,UAzGO,WACrB,IAAMC,EAAWC,aAAY,SAACC,GAAD,OAAWA,EAAMF,YACxCG,EAAUF,aAAY,SAACC,GAAD,OAAWA,EAAMC,WAFlB,GAGVC,cACSC,oBAAS,IAJR,mBAIbC,GAJa,WAiBrBC,EAXmB,SAACC,GACzB,IADwC,EACpCC,EAAe,GADqB,cAEnBD,GAFmB,IAExC,2BAAiC,CAAC,IAAzBR,EAAwB,QAChCS,EAAaC,KAAK,CACjBC,KAAMX,EAASW,KACfC,MAAOZ,EAASa,SAASC,OAAS,OAAIC,EAAY,KALZ,8BAQxC,OAAON,EAGaO,CAAiBhB,EAASQ,YAE/CS,QAAQC,IAAI,CAAEX,iBAEd,IAiBMY,EAjBiB,SAACC,GACvB,IADoC,EAChCC,EAAoB,GADY,cAEnBD,GAFmB,yBAE3BE,EAF2B,QAGnCf,EAAagB,KAAI,SAACC,GACbA,EAAKb,MAAQW,EAAKtB,SAASW,MAC9BU,EAAkBX,KAAK,CACtBV,SAAUwB,EAAKb,KACfC,MAAO,EACPC,SAAUS,EAAKtB,SAASW,MAAQa,EAAKb,KAAO,CAACW,EAAKX,MAAQ,SAN9D,2BAA4B,IAFQ,8BAcpC,OAAOU,EAGYI,CAAetB,EAAQiB,UAE3CH,QAAQC,IAAI,CAAEC,gBAEdO,IAAiBC,KAGjB,IAGIC,EAHQF,IAAe,WAAYG,KAGbC,OAAOpB,KAAK,IAAImB,KAgC1C,OA9BAD,EAAcG,WAAWC,SAAW,WACpCJ,EAAcG,WAAWpB,KAAO,WAChCiB,EAAcG,WAAWE,GAAK,OAC9BL,EAAcG,WAAWnB,MAAQ,QACjCgB,EAAcG,WAAWlB,SAAW,WAEpCe,EAAcM,MAAMC,SAASC,YAAc,SAC3CR,EAAcM,MAAMC,SAASE,YAAc,EAE3CT,EAAcU,KAAOnB,EAErBS,EAAcM,MAAMC,SAASI,MAAMC,KAAO,SAC1CZ,EAAca,SAAW,GACzBb,EAAcc,UAAY,EAC1Bd,EAAce,UAAYjB,IAAgB,GAC1CE,EAAcgB,kBAAoB,GAClChB,EAAcM,MAAMC,SAASI,MAAMM,eAAgB,EACnDjB,EAAcM,MAAMC,SAASI,MAAMO,UAAW,EAE9CC,qBACC,WACM/C,EAASgD,SACb1C,GAAQ,KAGV,CAAEN,EAASgD,UAGZ/B,QAAQC,IAAI,CAAEX,iBAGb,cAAC,IAAM0C,SAAP,UACC,cAAC,IAAD,UACC,cAAC,IAAD,CAAMC,GAAG,KAAT,SACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAMC,MAAO,CAAEC,WAAY,UAAWC,aAAc,OAApD,SACC,cAAC,IAAD,CAAMC,GAAI,GAAV,SACC,qBAAKH,MAAO,CAAEI,QAAS,OAAQC,eAAgB,gBAAiBC,aAAc,QAA9E,SACC,oBAAIN,MAAO,CAAEO,OAAQ,OAAQC,MAAO,QAApC,+CAKH,cAAC,IAAD,UACC,cAAC,IAAD,CAAML,GAAI,GAAV,SACC,qBAAKrB,GAAG,4B","file":"static/js/32.bf63203e.chunk.js","sourcesContent":["import * as am4core from '@amcharts/amcharts4/core';\nimport * as am4plugins_forceDirected from '@amcharts/amcharts4/plugins/forceDirected';\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\nimport { CCard, CCol, CRow } from '@coreui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './chart.css';\n\nconst ModifyProduct = () => {\n\tconst category = useSelector((state) => state.category);\n\tconst product = useSelector((state) => state.product);\n\tconst dispatch = useDispatch();\n\tconst [ show, setShow ] = useState(true);\n\n\tconst renderCategories = (categories) => {\n\t\tlet myCategories = [];\n\t\tfor (let category of categories) {\n\t\t\tmyCategories.push({\n\t\t\t\tname: category.name,\n\t\t\t\tvalue: category.children.length > 0 ? undefined : 1\n\t\t\t});\n\t\t}\n\t\treturn myCategories;\n\t};\n\n\tconst categoryList = renderCategories(category.categories);\n\n\tconsole.log({ categoryList });\n\n\tconst renderProducts = (products) => {\n\t\tlet productCategories = [];\n\t\tfor (let prod of products) {\n\t\t\tcategoryList.map((cate) => {\n\t\t\t\tif (cate.name == prod.category.name) {\n\t\t\t\t\tproductCategories.push({\n\t\t\t\t\t\tcategory: cate.name,\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\tchildren: prod.category.name == cate.name ? [prod.name] : []\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\treturn productCategories;\n\t};\n\n\tconst productList = renderProducts(product.products);\n\n\tconsole.log({ productList });\n\n\tam4core.useTheme(am4themes_animated);\n\t// Themes end\n\n\tlet chart = am4core.create('chartdiv', am4plugins_forceDirected.ForceDirectedTree);\n\t// chart.legend = new am4charts.Legend();\n\n\tlet networkSeries = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries());\n\n\tnetworkSeries.dataFields.linkWith = 'linkWith';\n\tnetworkSeries.dataFields.name = 'category';\n\tnetworkSeries.dataFields.id = 'name';\n\tnetworkSeries.dataFields.value = 'price';\n\tnetworkSeries.dataFields.children = 'children';\n\n\tnetworkSeries.nodes.template.tooltipText = '{name}';\n\tnetworkSeries.nodes.template.fillOpacity = 1;\n\n\tnetworkSeries.data = productList;\n\n\tnetworkSeries.nodes.template.label.text = '{name}';\n\tnetworkSeries.fontSize = 12;\n\tnetworkSeries.maxLevels = 4;\n\tnetworkSeries.maxRadius = am4core.percent(6);\n\tnetworkSeries.manyBodyStrength = -16;\n\tnetworkSeries.nodes.template.label.hideOversized = true;\n\tnetworkSeries.nodes.template.label.truncate = true;\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (!category.loading) {\n\t\t\t\tsetShow(false);\n\t\t\t}\n\t\t},\n\t\t[ category.loading ]\n\t);\n\n\tconsole.log({ categoryList });\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<CRow>\n\t\t\t\t<CCol xs=\"12\">\n\t\t\t\t\t<CCard>\n\t\t\t\t\t\t<CRow style={{ background: '#67dcbb', borderRadius: '5px' }}>\n\t\t\t\t\t\t\t<CCol md={12}>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '15px' }}>\n\t\t\t\t\t\t\t\t\t<h1 style={{ margin: '1rem', color: '#333' }}>Toutes les Cate&#769;gories</h1>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t</CRow>\n\n\t\t\t\t\t\t<CRow>\n\t\t\t\t\t\t\t<CCol md={12}>\n\t\t\t\t\t\t\t\t<div id=\"chartdiv\" />\n\t\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t</CRow>\n\t\t\t\t\t</CCard>\n\t\t\t\t</CCol>\n\t\t\t</CRow>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default ModifyProduct;\n"],"sourceRoot":""}
{"version":3,"sources":["views/category/AllCategories/index.js"],"names":["Category","category","useSelector","state","useState","setShow","categoryList","renderCategories","categories","myCategories","push","name","value","children","length","am4core","am4themes_animated","networkSeries","am4plugins_forceDirected","series","dataFields","linkWith","id","nodes","template","tooltipText","fillOpacity","data","label","text","fontSize","maxLevels","maxRadius","manyBodyStrength","hideOversized","truncate","useEffect","loading","Fragment","className"],"mappings":"gPAyEeA,UAjEE,WAChB,IAAMC,EAAWC,aAAY,SAACC,GAAD,OAAWA,EAAMF,YAC9C,EAA0BG,oBAAS,GAAnC,mBAAcC,GAAd,WAcMC,EAZmB,SAAnBC,EAAoBC,GACzB,IADwC,EACpCC,EAAe,GADqB,cAEnBD,GAFmB,IAExC,2BAAiC,CAAC,IAAzBP,EAAwB,QAChCQ,EAAaC,KAAK,CACjBC,KAAMV,EAASU,KACfC,MAAOX,EAASY,SAASC,OAAS,EAAI,GAAM,GAC5CD,SAAUZ,EAASY,SAASC,OAAS,GAAKP,EAAiBN,EAASY,aAN9B,8BASxC,OAAOJ,EAGaF,CAAiBN,EAASO,YAI/CO,IAAiBC,KAGjB,IAGIC,EAHQF,IAAe,WAAYG,KAGbC,OAAOT,KAAK,IAAIQ,KAgC1C,OA9BAD,EAAcG,WAAWC,SAAW,WACpCJ,EAAcG,WAAWT,KAAO,OAChCM,EAAcG,WAAWE,GAAK,OAC9BL,EAAcG,WAAWR,MAAQ,QACjCK,EAAcG,WAAWP,SAAW,WAEpCI,EAAcM,MAAMC,SAASC,YAAc,SAC3CR,EAAcM,MAAMC,SAASE,YAAc,EAE3CT,EAAcU,KAAOrB,EAErBW,EAAcM,MAAMC,SAASI,MAAMC,KAAO,SAC1CZ,EAAca,SAAW,GACzBb,EAAcc,UAAY,EAC1Bd,EAAce,UAAYjB,IAAgB,GAC1CE,EAAcgB,kBAAoB,GAClChB,EAAcM,MAAMC,SAASI,MAAMM,eAAgB,EACnDjB,EAAcM,MAAMC,SAASI,MAAMO,UAAW,EAE9CC,qBACC,WACMnC,EAASoC,SACbhC,GAAQ,KAGV,CAAEJ,EAASoC,UAMX,cAAC,IAAMC,SAAP,UACC,qBAAKC,UAAU,mBAAmBjB,GAAG,iB","file":"static/js/47.43db6c09.chunk.js","sourcesContent":["import * as am4core from '@amcharts/amcharts4/core';\r\nimport * as am4plugins_forceDirected from '@amcharts/amcharts4/plugins/forceDirected';\r\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\r\nimport { CCard, CCol, CRow } from '@coreui/react';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport './chart.css';\r\n\r\nconst Category = () => {\r\n\tconst category = useSelector((state) => state.category);\r\n\tconst [ show, setShow ] = useState(true);\r\n\r\n\tconst renderCategories = (categories) => {\r\n\t\tlet myCategories = [];\r\n\t\tfor (let category of categories) {\r\n\t\t\tmyCategories.push({\r\n\t\t\t\tname: category.name,\r\n\t\t\t\tvalue: category.children.length > 0 ? 0.2 : 0.1,\r\n\t\t\t\tchildren: category.children.length > 0 && renderCategories(category.children)\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn myCategories;\r\n\t};\r\n\r\n\tconst categoryList = renderCategories(category.categories);\r\n\r\n\t// console.log({ categoryList });\r\n\r\n\tam4core.useTheme(am4themes_animated);\r\n\t// Themes end\r\n\r\n\tlet chart = am4core.create('chartdiv', am4plugins_forceDirected.ForceDirectedTree);\r\n\t// chart.legend = new am4charts.Legend();\r\n\r\n\tlet networkSeries = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries());\r\n\r\n\tnetworkSeries.dataFields.linkWith = 'linkWith';\r\n\tnetworkSeries.dataFields.name = 'name';\r\n\tnetworkSeries.dataFields.id = 'name';\r\n\tnetworkSeries.dataFields.value = 'value';\r\n\tnetworkSeries.dataFields.children = 'children';\r\n\r\n\tnetworkSeries.nodes.template.tooltipText = '{name}';\r\n\tnetworkSeries.nodes.template.fillOpacity = 1;\r\n\r\n\tnetworkSeries.data = categoryList;\r\n\r\n\tnetworkSeries.nodes.template.label.text = '{name}';\r\n\tnetworkSeries.fontSize = 12;\r\n\tnetworkSeries.maxLevels = 4;\r\n\tnetworkSeries.maxRadius = am4core.percent(6);\r\n\tnetworkSeries.manyBodyStrength = -16;\r\n\tnetworkSeries.nodes.template.label.hideOversized = true;\r\n\tnetworkSeries.nodes.template.label.truncate = true;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!category.loading) {\r\n\t\t\t\tsetShow(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ category.loading ]\r\n\t);\r\n\r\n\t// console.log({ categoryList })\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"flexRow normalBg\" id=\"chartdiv\" />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default Category;\r\n"],"sourceRoot":""}
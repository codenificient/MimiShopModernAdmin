(this["webpackJsonpcoreui-free-react-admin-template"]=this["webpackJsonpcoreui-free-react-admin-template"]||[]).push([[6,30],{729:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(2);var a=n(962),c=n(20);function r(e){var t=null;switch(e.type){case"select":t=Object(c.jsxs)(a.a.Group,{children:[e.label&&Object(c.jsx)(a.a.Label,{children:e.label}),Object(c.jsxs)("select",{className:"form-control",value:e.value,onChange:e.onChange,children:[Object(c.jsx)("option",{value:"",children:e.placeholder}),e.options.length>0?e.options.map((function(e,t){return Object(c.jsx)("option",{value:e.value,children:e.name},t)})):null]})]});break;case"text":default:t=Object(c.jsxs)(a.a.Group,{children:[e.label&&Object(c.jsx)(a.a.Label,{children:e.label}),Object(c.jsx)(a.a.Control,{type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange}),Object(c.jsx)(a.a.Text,{className:"text-muted",children:e.errorMessage})]})}return t}},731:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(2);var a=n(961),c=n(751),r=n(20);function l(e){return Object(r.jsxs)(a.a,{size:e.size,show:e.show,onHide:e.handleClose,btnTitle:e.btnTitle,children:[Object(r.jsx)(a.a.Header,{closeButton:!0,children:Object(r.jsx)(a.a.Title,{children:e.modalTitle})}),Object(r.jsx)(a.a.Body,{children:e.children}),Object(r.jsx)(a.a.Footer,{children:e.buttons?e.buttons.map((function(e,t){return Object(r.jsx)(c.a,{variant:e.color,onClick:e.onClick,children:e.label},t)})):Object(r.jsxs)("div",{children:[Object(r.jsx)(c.a,{variant:"secondary",onClick:e.handleClose,children:"Annuler"}),Object(r.jsx)(c.a,{className:"infoButton",onClick:e.handleSubmit,children:e.btnTitle?e.btnTitle:"Sauvegarder"})]})})]})}},768:function(e,t,n){},769:function(e,t,n){"use strict";n(2);var a=n(729),c=n(731),r=n(20);t.a=function(e){var t=e.show,n=e.handleClose,l=e.handleShow,o=e.handleSubmit,i=e.size,s=e.categoryName,d=e.modalTitle,j=e.setParentCategoryId,u=e.parentCategoryId,h=e.setCategoryName,b=e.categoryImage,p=e.handleCategoryImage,O=e.categoryList;return Object(r.jsxs)(c.a,{show:t,handleClose:n,modalTitle:d,handleShow:l,handleSubmit:o,size:i,children:[Object(r.jsx)(a.a,{label:"Category Name",value:s,placeholder:"Enter Category Name",onChange:h}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"Se\u0301lectionner Cate\u0301gory"}),Object(r.jsxs)("select",{className:"form-control",value:u,onChange:j,children:[Object(r.jsx)("option",{children:"Se\u0301lect une Cate\u0301gory"}),O.map((function(e){return Object(r.jsx)("option",{value:e.value,children:e.name},e.name)}))]}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"Se\u0301lect une Image de Cate\u0301gory"}),Object(r.jsx)("input",{type:"file",name:b,onChange:p})]})}},770:function(e,t,n){"use strict";n(2);var a=n(731),c=n(20);t.a=function(e){var t=e.show,n=e.handleClose,r=e.size,l=e.modalTitle,o=e.expandedArray,i=e.checkedArray,s=e.buttons;return Object(c.jsxs)(a.a,{modalTitle:l,show:t,handleClose:n,buttons:s,size:r,children:[Object(c.jsx)("h5",{children:"Cate\u0301gories Re\u0301pandues"}),o.map((function(e,t){return Object(c.jsxs)("span",{children:[e.name," ",Object(c.jsx)("br",{})]},t)})),Object(c.jsx)("h5",{children:"Cate\u0301gories Se\u0301lectionne\u0301es"}),i.map((function(e,t){return Object(c.jsxs)("span",{children:[e.name,Object(c.jsx)("br",{})]},t)}))]})}},771:function(e,t,n){"use strict";n(2);var a=n(737),c=n(734),r=n(729),l=n(731),o=n(20);t.a=function(e){var t=e.show,n=e.handleClose,i=e.handleShow,s=e.handleSubmit,d=e.size,j=e.modalTitle,u=e.expandedArray,h=e.checkedArray,b=e.handleCategoryInput,p=e.categoryList;return Object(o.jsxs)(l.a,{show:t,handleClose:n,modalTitle:j,handleShow:i,handleSubmit:s,size:d,children:[Object(o.jsx)(a.a,{children:Object(o.jsx)(c.a,{children:Object(o.jsx)("h5",{children:"Cate\u0301gories Re\u0301pandues"})})}),u.length>0&&u.map((function(e,t){return Object(o.jsxs)(a.a,{children:[Object(o.jsx)(c.a,{children:Object(o.jsx)(r.a,{value:e.name,placeholder:"Nom de la Cate&#769;gory",onChange:function(e){return b("name",e.target.value,t,"expanded")}})}),Object(o.jsx)(c.a,{children:Object(o.jsxs)("select",{label:"Se&#769;lectionner une Cate&#769;gorie",className:"form-control",value:e.parentId,onChange:function(e){return b("parentId",e.target.value,t,"expanded")},children:[Object(o.jsx)("option",{children:"Se\u0301lectionner une Cate\u0301gorie"}),p.map((function(e){return Object(o.jsx)("option",{value:e.value,children:e.name},e.name)}))]})}),Object(o.jsx)(c.a,{children:Object(o.jsxs)("select",{className:"form-control",value:e.type,onChange:function(e){return b("type",e.target.value,t,"expanded")},children:[Object(o.jsx)("option",{value:"",children:"S\xe9lectionner le Type de Cate\u0301gorie"}),Object(o.jsx)("option",{value:"store",children:"Boutique"}),Object(o.jsx)("option",{value:"product",children:"Produit"}),Object(o.jsx)("option",{value:"page",children:"Page"})]})})]},t)})),Object(o.jsx)(a.a,{children:Object(o.jsx)(c.a,{children:Object(o.jsx)("h5",{children:"Cate\u0301gories Se\u0301lectionne\u0301es"})})}),h.length>0&&h.map((function(e,t){return Object(o.jsxs)(a.a,{children:[Object(o.jsx)(c.a,{children:Object(o.jsx)(r.a,{value:e.name,placeholder:"Nom de Cate&#769;gory",onChange:function(e){return b("name",e.target.value,t,"checked")}})}),Object(o.jsx)(c.a,{children:Object(o.jsxs)("select",{label:"S\xe9lectionner une Cat\xe9gorie",className:"form-control",value:e.parentId,onChange:function(e){return b("parentId",e.target.value,t,"checked")},children:[Object(o.jsx)("option",{children:"Se\u0301lect une Cate\u0301gorie"}),p.map((function(e){return Object(o.jsx)("option",{value:e.value,children:e.name},e.name)}))]})}),Object(o.jsx)(c.a,{children:Object(o.jsxs)("select",{className:"form-control",value:e.type,onChange:function(e){return b("type",e.target.value,t,"checked")},children:[Object(o.jsx)("option",{value:"",children:"Se\u0301lectionner le Type de Cate\u0301gorie"}),Object(o.jsx)("option",{value:"store",children:"Boutique"}),Object(o.jsx)("option",{value:"product",children:"Product"}),Object(o.jsx)("option",{value:"page",children:"Page"})]})})]},t)}))]})}},840:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(4),r=n(172),l=n(708),o=n(707),i=n(2),s=n(751),d=n(806),j=n.n(d),u=(n(807),n(810)),h=n(811),b=n(71),p=n(122),O=(n(768),n(769)),x=n(770),m=n(771),f=n(20);t.default=function(){var e=Object(b.c)((function(e){return e.category})),t=Object(b.b)(),n=Object(i.useState)(""),d=Object(l.a)(n,2),g=d[0],v=d[1],C=Object(i.useState)(""),y=Object(l.a)(C,2),S=y[0],k=y[1],w=Object(i.useState)(""),I=Object(l.a)(w,2),N=I[0],T=I[1],z=Object(i.useState)(!1),A=Object(l.a)(z,2),E=A[0],B=A[1],L=Object(i.useState)([]),P=Object(l.a)(L,2),_=P[0],F=P[1],M=Object(i.useState)([]),U=Object(l.a)(M,2),R=U[0],q=U[1],D=Object(i.useState)([]),G=Object(l.a)(D,2),H=G[0],J=G[1],Y=Object(i.useState)([]),K=Object(l.a)(Y,2),Q=K[0],V=K[1],W=Object(i.useState)(!1),X=Object(l.a)(W,2),Z=X[0],$=X[1],ee=Object(i.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ae=te[1];Object(i.useEffect)((function(){e.loading||B(!1)}),[e.loading]);var ce=function(){return B(!0)},re=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(r.a)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;a.push({value:l._id,name:l.name,parentId:l.parentId,type:l.type}),l.children.length>0&&e(l.children,a)}}catch(o){c.e(o)}finally{c.f()}return a},le=function(){var t=re(e.categories),n=[],a=[];_.length>0&&_.forEach((function(e,a){var c=t.find((function(t,n){return e===t.value}));c&&n.push(c)})),H.length>0&&H.forEach((function(e,n){var c=t.find((function(t,n){return e===t.value}));c&&a.push(c)})),q(n),V(a)},oe=re(e.categories);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(o.U,{children:Object(f.jsx)(o.m,{xs:"12",children:Object(f.jsxs)(o.h,{children:[Object(f.jsx)(o.U,{style:{background:"#67dcbb",borderRadius:"5px"},children:Object(f.jsx)(o.m,{md:12,children:Object(f.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:Object(f.jsx)("h1",{style:{margin:"1rem",color:"#333"},children:"Ajouter ou Modifier les Cate\u0301gories"})})})}),Object(f.jsx)(o.U,{className:"mt-5",children:Object(f.jsxs)(o.m,{md:12,children:[Object(f.jsxs)(o.e,{className:"btn-pill btn-warning ml-5",onClick:ce,children:[Object(f.jsx)(u.b,{style:{fontSize:"27px"}})," ",Object(f.jsx)("span",{children:"Ajouter Cate\u0301gorie"})]}),Object(f.jsxs)(s.a,{onClick:function(){le(),$(!0)},className:"btn-pill btn-info",variant:"info",children:[Object(f.jsx)(u.a,{style:{fontSize:"27px"}})," ",Object(f.jsx)("span",{children:"Modifier Cate\u0301gorie"})]}),Object(f.jsxs)(s.a,{onClick:function(){le(),ae(!0)},className:"btn-pill btn-danger",variant:"danger",children:[Object(f.jsx)(u.c,{style:{fontSize:"27px"}})," ",Object(f.jsx)("span",{children:"Supprimer Cate\u0301gorie"})]})]})}),Object(f.jsx)(o.U,{className:"showCats ml-5",children:Object(f.jsx)(o.m,{md:12,children:Object(f.jsx)(j.a,{nodes:function e(t){var n,a=[],c=Object(r.a)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;a.push({label:l.name,value:l._id,children:l.children.length>0&&e(l.children)})}}catch(o){c.e(o)}finally{c.f()}return a}(e.categories),checked:_,expanded:H,onCheck:function(e){return F(e)},onExpand:function(e){return J(e)},icons:{check:Object(f.jsx)(h.c,{}),uncheck:Object(f.jsx)(h.d,{}),halfCheck:Object(f.jsx)(h.d,{}),expandClose:Object(f.jsx)(h.b,{}),expandOpen:Object(f.jsx)(h.a,{})}})})}),Object(f.jsx)(O.a,{show:E,handleClose:function(){return B(!1)},modalTitle:"Ajouter Nouvelle Cat\xe9gorie",size:"lg",handleShow:ce,handleSubmit:function(){var e=new FormData;e.append("name",g),e.append("parentId",N),e.append("categoryImage",S),t(Object(p.a)(e)),k(""),v(""),T(""),B(!1)},categoryName:g,setParentCategoryId:function(e){return T(e.target.value)},parentCategoryId:N,setCategoryName:function(e){return v(e.target.value)},categoryImage:S,handleCategoryImage:function(e){k(e.target.files[0])},categoryList:oe}),Object(f.jsx)(m.a,{show:Z,handleClose:function(){return $(!1)},modalTitle:"Modifier Cat\xe9gories",handleShow:Z,handleSubmit:function(){var e=new FormData;Q.forEach((function(t,n){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),R.forEach((function(t,n){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),t(Object(p.j)(e)),$(!1)},size:"xl",expandedArray:Q,checkedArray:R,handleCategoryInput:function(e,t,n,r){if("checked"===r){var l=R.map((function(r,l){return n===l?Object(c.a)(Object(c.a)({},r),{},Object(a.a)({},e,t)):r}));q(l)}else if("expanded"===r){var o=Q.map((function(r,l){return n===l?Object(c.a)(Object(c.a)({},r),{},Object(a.a)({},e,t)):r}));V(o)}},categoryList:oe}),Object(f.jsx)(x.a,{show:ne,modalTitle:"Confirmer Supprimer Cat\xe9gories",handleClose:function(){return ae(!1)},buttons:[{label:"No",color:"primary",onClick:function(){return ae(!1)}},{label:"Yes",color:"danger",onClick:function(){var e=R.map((function(e,t){return{_id:e.value}}));Q.map((function(e,t){return{_id:e.value}})).concat(e);e.length>0&&(t(Object(p.d)(e)),ae(!1))}}],size:"lg",expandedArray:Q,checkedArray:R}),Object(f.jsx)(o.i,{})]})})})})}}}]);
//# sourceMappingURL=6.12877a11.chunk.js.map
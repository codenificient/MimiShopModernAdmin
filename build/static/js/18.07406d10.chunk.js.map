{"version":3,"sources":["components/UI/Modal/index.js","components/UI/Input/index.js","components/Layout/index.js","../node_modules/react-bootstrap/esm/Container.js","views/products/AllProducts/index.js"],"names":["NewModal","props","size","show","onHide","handleClose","Header","closeButton","Title","modalTitle","Body","children","Footer","buttons","map","btn","index","variant","color","onClick","label","className","handleSubmit","Input","input","type","Group","Label","value","onChange","placeholder","options","length","option","name","Control","Text","errorMessage","Layout","Fragment","sidebar","fluid","md","exact","to","style","marginLeft","paddingTop","Container","React","forwardRef","_ref","ref","bsPrefix","_ref$as","as","Component","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","suffix","createElement","_extends","classNames","displayName","defaultProps","Products","category","useSelector","state","product","dispatch","useDispatch","useState","setShow","handleShow","setName","categoryId","setCategory","quantity","setQuantity","price","setPrice","deliveryFee","setDeliveryFee","offer","setOffer","description","setDescription","productPictures","setProductPictures","productDetailsModal","setProductDetailsModal","productDetails","form","FormData","append","pic","addProductAction","createCategoryList","categories","push","_id","createProductList","products","id","toString","substring","status","console","table","handleProductImage","e","preventDefault","target","files","getBadge","display","justifyContent","margin","xs","lg","items","fields","striped","itemsPerPage","pagination","scopedSlots","item","picture","formatter","format","src","generatePublicUrl","img","alt"],"mappings":"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","file":"static/js/18.07406d10.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\n\r\nexport default function NewModal(props) {\r\n\treturn (\r\n\t\t<Modal size={props.size} show={props.show} onHide={props.handleClose}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>{props.modalTitle}</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>{props.children}</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t{props.buttons ? (\r\n\t\t\t\t\tprops.buttons.map((btn, index) => (\r\n\t\t\t\t\t\t<Button key={index} variant={btn.color} onClick={btn.onClick}>\r\n\t\t\t\t\t\t\t{btn.label}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={props.handleClose}>\r\n\t\t\t\t\t\t\tAnnuler\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button className=\"infoButton\" onClick={props.handleSubmit}>\r\n\t\t\t\t\t\t\tSauvegarder\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nexport default function Input(props) {\r\n\tlet input = null;\r\n\r\n\tswitch (props.type) {\r\n\t\tcase 'select':\r\n\t\t\tinput = (\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t{props.label && <Form.Label>{props.label}</Form.Label>}\r\n\t\t\t\t\t<select className=\"form-control\" value={props.value} onChange={props.onChange}>\r\n\t\t\t\t\t\t<option value=\"\">{props.placeholder}</option>\r\n\t\t\t\t\t\t{props.options.length > 0 ? (\r\n\t\t\t\t\t\t\tprops.options.map((option, index) => (\r\n\t\t\t\t\t\t\t\t<option key={index} value={option.value}>\r\n\t\t\t\t\t\t\t\t\t{option.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t);\r\n\r\n\t\t\tbreak;\r\n\t\tcase 'text':\r\n\t\tdefault:\r\n\t\t\tinput = (\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t{props.label && <Form.Label>{props.label}</Form.Label>}\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype={props.type}\r\n\t\t\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\t\t\tvalue={props.value}\r\n\t\t\t\t\t\tonChange={props.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Text className=\"text-muted\">{props.errorMessage}</Form.Text>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t);\r\n\t}\r\n\r\n\treturn input;\r\n}\r\n","import React from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './style.css';\r\n\r\nexport default function Layout(props) {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\r\n\t\t\t{props.sidebar ? (\r\n\t\t\t\t<Container fluid className=\"layoutRoot\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={2} className=\"sidebar\">\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<NavLink exact to={`/`}>\r\n\t\t\t\t\t\t\t\t\t\tAccueil\r\n\t\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={`/page`}>Pages</NavLink>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={`/category`}>Cate&#769;gories</NavLink>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={`/products`}>Produits</NavLink>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<NavLink to={`/orders`}>Commandes</NavLink>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={10} style={{ marginLeft: 'auto', paddingTop: '60px' }}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t) : (\r\n\t\t\t\tprops.children\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  fluid: false\n};\nvar Container = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      fluid = _ref.fluid,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"fluid\", \"as\", \"className\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'container');\n  var suffix = typeof fluid === 'string' ? \"-\" + fluid : '-fluid';\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, fluid ? \"\" + prefix + suffix : prefix)\n  }));\n});\nContainer.displayName = 'Container';\nContainer.defaultProps = defaultProps;\nexport default Container;","import { CBadge, CCard, CCardBody, CCardHeader, CCol, CDataTable, CRow } from '@coreui/react';\r\nimport React, { useState } from 'react';\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\nimport { IoIosAdd } from 'react-icons/io';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addProductAction } from '../../../actions';\r\nimport Layout from '../../../components/Layout';\r\nimport Input from '../../../components/UI/Input';\r\nimport NewModal from '../../../components/UI/Modal';\r\nimport { formatter, generatePublicUrl } from '../../../urlConfig';\r\nimport './style.css';\r\n\r\nexport default function Products() {\r\n\tconst category = useSelector((state) => state.category);\r\n\tconst product = useSelector((state) => state.product);\r\n\tconst dispatch = useDispatch();\r\n\tconst [ show, setShow ] = useState(false);\r\n\tconst handleShow = () => setShow(true);\r\n\tconst handleClose = () => setShow(false);\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ categoryId, setCategory ] = useState('');\r\n\tconst [ quantity, setQuantity ] = useState('');\r\n\tconst [ price, setPrice ] = useState('');\r\n\tconst [ deliveryFee, setDeliveryFee ] = useState('');\r\n\tconst [ offer, setOffer ] = useState('');\r\n\tconst [ description, setDescription ] = useState('');\r\n\tconst [ productPictures, setProductPictures ] = useState('');\r\n\r\n\tconst [ productDetailsModal, setProductDetailsModal ] = useState(false);\r\n\tconst [ productDetails, setProductDetails ] = useState(null);\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tconst form = new FormData();\r\n\t\tform.append('name', name);\r\n\t\tform.append('quantity', quantity);\r\n\t\tform.append('price', price);\r\n\t\tform.append('category', categoryId);\r\n\t\tform.append('description', description);\r\n\t\tform.append('deliveryFee', deliveryFee);\r\n\t\tform.append('offer', offer);\r\n\r\n\t\tfor (let pic of productPictures) {\r\n\t\t\tform.append('productPictures', pic);\r\n\t\t}\r\n\t\tdispatch(addProductAction(form));\r\n\r\n\t\tsetName('');\r\n\t\tsetCategory('');\r\n\t\tsetDescription('');\r\n\t\tsetQuantity('');\r\n\t\tsetOffer('');\r\n\t\tsetDeliveryFee('');\r\n\t\tsetPrice('');\r\n\t\tsetProductPictures('');\r\n\r\n\t\thandleClose();\r\n\t\t// dispatch(getAllProductsAction());\r\n\t};\r\n\r\n\tconst createCategoryList = (categories, options = []) => {\r\n\t\tfor (let category of categories) {\r\n\t\t\toptions.push({\r\n\t\t\t\tvalue: category._id,\r\n\t\t\t\tname: category.name\r\n\t\t\t});\r\n\t\t\tif (category.children.length > 0) {\r\n\t\t\t\tcreateCategoryList(category.children, options);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn options;\r\n\t};\r\n\r\n\r\n\tconst createProductList = (products, options = []) => {\r\n\t\tfor (let product of products) {\r\n\t\t\tlet { _id, name, price, quantity, category } = product;\r\n\t\t\toptions.push({\r\n\t\t\t\tid: _id.toString().substring(0, 9),\r\n\t\t\t\tname: name,\r\n\t\t\t\tprice: price,\r\n\t\t\t\tquantity: quantity,\r\n\t\t\t\tcategory: category.name,\r\n\t\t\t\tstatus: quantity % 3 == 1 ? 'Active' : quantity % 2 == 1 ? 'Inactive' : quantity % 5 == 0 ? 'Archived' : 'Pending'\r\n\t\t\t});\r\n\t\t\tconsole.table({ options });\r\n\t\t}\r\n\t\treturn options;\r\n\t};\r\n\r\n\r\n\tconst handleProductImage = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetProductPictures([ ...productPictures, e.target.files[0] ]);\r\n\t};\r\n\r\n\tconst getBadge = (status) => {\r\n\t\tswitch (status) {\r\n\t\t\tcase 'Active':\r\n\t\t\t\treturn 'success';\r\n\t\t\tcase 'Inactive':\r\n\t\t\t\treturn 'secondary';\r\n\t\t\tcase 'Pending':\r\n\t\t\t\treturn 'warning';\r\n\t\t\tcase 'Banned':\r\n\t\t\t\treturn 'danger';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'primary';\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderProducts = () => {\r\n\t\tconst fields = [ 'id', 'name', 'price', 'quantity', 'category', 'status' ];\r\n\r\n\t\treturn (\r\n\t\t\t<CRow>\r\n\t\t\t\t<CCol xs=\"12\" lg=\"12\">\r\n\t\t\t\t\t<CCard>\r\n\t\t\t\t\t\t<CCardHeader>Tous Les Produits</CCardHeader>\r\n\t\t\t\t\t\t<CCardBody>\r\n\t\t\t\t\t\t\t<CDataTable\r\n\t\t\t\t\t\t\t\titems={createProductList(product.products)}\r\n\t\t\t\t\t\t\t\tfields={fields}\r\n\t\t\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\t\t\titemsPerPage={30}\r\n\t\t\t\t\t\t\t\tpagination\r\n\t\t\t\t\t\t\t\tscopedSlots={{\r\n\t\t\t\t\t\t\t\t\tstatus: (item) => (\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<CBadge color={getBadge(item.status)}>{item.status}</CBadge>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CCardBody>\r\n\t\t\t\t\t</CCard>\r\n\t\t\t\t</CCol>\r\n\t\t\t</CRow>\r\n\r\n\r\n\t\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderAddProductModal = () => {\r\n\t\treturn (\r\n\t\t\t<NewModal\r\n\t\t\t\tshow={show}\r\n\t\t\t\thandleClose={handleClose}\r\n\t\t\t\tmodalTitle={`Ajouter Nouveau Produit`}\r\n\t\t\t\thandleShow={handleShow}\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel={`Nom Produit `}\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tplaceholder={`Nom du Produit `}\r\n\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel={`Quantité`}\r\n\t\t\t\t\tvalue={quantity}\r\n\t\t\t\t\tplaceholder={`Quantité du Produit `}\r\n\t\t\t\t\tonChange={(e) => setQuantity(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel={`Prix Unitaire`}\r\n\t\t\t\t\tvalue={price}\r\n\t\t\t\t\tplaceholder={`Prix Unitaire du Produit`}\r\n\t\t\t\t\tonChange={(e) => setPrice(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel={`Frais de Livraison`}\r\n\t\t\t\t\tvalue={deliveryFee}\r\n\t\t\t\t\tplaceholder={`Ajouter frais de livraison`}\r\n\t\t\t\t\tonChange={(e) => setDeliveryFee(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel={`Description du Produit`}\r\n\t\t\t\t\tvalue={description}\r\n\t\t\t\t\tplaceholder={`Ajouter une description`}\r\n\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<p>Product Category</p>\r\n\t\t\t\t<select className=\"form-control\" value={categoryId} onChange={(e) => setCategory(e.target.value)}>\r\n\t\t\t\t\t<option>Se&#769;lectionner une Cate&#769;gorie</option>\r\n\t\t\t\t\t{createCategoryList(category.categories).map((option) => (\r\n\t\t\t\t\t\t<option key={option.name} value={option.value}>\r\n\t\t\t\t\t\t\t{option.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tlabel={`Offeres et Promotions`}\r\n\t\t\t\t\tvalue={offer}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder={`Ajouter les offres ou promotions pour ce Produit`}\r\n\t\t\t\t\tonChange={(e) => setOffer(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<p>Se&#769;lectionner Images pour ce produit</p>\r\n\r\n\t\t\t\t{productPictures.length > 0 ? (\r\n\t\t\t\t\tproductPictures.map((picture, index) => <div key={index}>{picture.name}</div>)\r\n\t\t\t\t) : null}\r\n\t\t\t\t<input type=\"file\" name={productPictures} onChange={handleProductImage} />\r\n\t\t\t</NewModal>\r\n\t\t);\r\n\t};\r\n\r\n\t// const handleCloseProductDetailsModal = () => {\r\n\t// \tsetProductDetailsModal(false);\r\n\t// };\r\n\r\n\tconst showProductDetailsModal = (product) => {\r\n\t\tsetProductDetails(product);\r\n\t\tsetProductDetailsModal(true);\r\n\t};\r\n\r\n\tconst renderProductDetailModal = () => {\r\n\t\tif (!productDetails) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<NewModal\r\n\t\t\t\tshow={productDetailsModal}\r\n\t\t\t\thandleClose={() => setProductDetailsModal(false)}\r\n\t\t\t\tmodalTitle={`Détails du Produits`}\r\n\t\t\t\tsize=\"xl\"\r\n\t\t\t>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t<label className=\"key\">Nom du Produit</label>\r\n\t\t\t\t\t\t<p className=\"value\">{productDetails.name}</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t<label className=\"key\">Cate&#769;gorie</label>\r\n\t\t\t\t\t\t<p className=\"value\">{productDetails.category.name}</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t<label className=\"key\">Prix</label>\r\n\t\t\t\t\t\t<p className=\"value\">{formatter.format(productDetails.price)}</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t<label className=\"key\">Quantite&#769;</label>\r\n\t\t\t\t\t\t<p className=\"value\">{productDetails.quantity}</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md={12}>\r\n\t\t\t\t\t\t<label className=\"key\">Frais de Livraison</label>\r\n\t\t\t\t\t\t<p className=\"value\">\r\n\t\t\t\t\t\t\t{productDetails.deliveryFee ? formatter.format(productDetails.deliveryFee) : 'GRATUIT'}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md={12}>\r\n\t\t\t\t\t\t<label className=\"key\">Description du Produit</label>\r\n\t\t\t\t\t\t<p className=\"value\">{productDetails.description}</p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md={12}>\r\n\t\t\t\t\t\t<label className=\"key\">Images du Produit</label>\r\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t{productDetails.productPictures.map((picture) => (\r\n\t\t\t\t\t\t\t\t<div className=\"productImg\">\r\n\t\t\t\t\t\t\t\t\t<img src={generatePublicUrl(picture.img)} alt={picture.img} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</NewModal>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<Container fluid className=\"pageBody\">\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md={12}>\r\n\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t\t\t\t<h1 style={{ margin: '3rem' }}>Liste des Produits </h1>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row className=\"card\">\r\n\t\t\t\t\t<Col md={12}>\r\n\t\t\t\t\t\t<ul>{renderProducts()}</ul>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t\t{renderAddProductModal()}\r\n\t\t\t{renderProductDetailModal()}\r\n\t\t</Layout>\r\n\t);\r\n}\r\n"],"sourceRoot":""}